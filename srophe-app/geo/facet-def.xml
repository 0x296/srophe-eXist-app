<facets xmlns="http://expath.org/ns/facet">
    <facet-definition name="Dynasty">
        <group-by function="facet:group-by-array">
            <sub-path>descendant::tei:relation[@ref="dcterms:temporal"][@ana='dynasty']/@passive</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    <facet-definition name="Province">
        <group-by>
            <sub-path>descendant::tei:region[@type='province']/tei:placeName[@xml:lang='en']</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    <facet-definition name="Site Type">
        <group-by>
            <sub-path>descendant::tei:trait[@sub-type='site-type']/tei:desc[@xml:lang='en']/text()</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    <facet-definition name="Building Type">
        <group-by>
            <sub-path>descendant::tei:trait[@sub-type='building-type']/tei:desc[@xml:lang='en']/text()</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    <!-- A little slower as it uses name look up. 
    <facet-definition name="Site Type">
        <group-by function="facet:group-by-array">
            <sub-path>descendant::tei:relation[@ref="dcterms:subject"][@ana='site-type']/@passive</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    <facet-definition name="Building Type">
        <group-by function="facet:group-by-array">
            <sub-path>descendant::tei:relation[@ref="dcterms:subject"][@ana='building-type']/@passive</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    -->
    <facet-definition name="Architectural Feature">
        <group-by function="facet:group-by-array">
            <!-- <group-by function="facet:group-feature"> -->
            <sub-path>descendant::tei:relation[@ref="dcterms:subject"][@ana='architectural-feature']/@passive</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    <!--
    <facet-definition name="Sites">
        <group-by function="facet:group-by-array">
            <sub-path>descendant::tei:relation[@ref="schema:containedInPlace"]/@passive</sub-path>
        </group-by>
        <max-values show="5">40</max-values>
        <order-by direction="ascending">count</order-by>
    </facet-definition>
    -->
</facets>